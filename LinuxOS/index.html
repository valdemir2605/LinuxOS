<!DOCTYPE html>
<html lang="pt-br">
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>LinuxOS</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">
  <!-- Favicons -->
  <link href="assets/img/favicon.svg" rel="icon">
  <!-- Google Fonts -->
  <link href="assets/css/googleapis.css" rel="stylesheet">
  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <!-- Template Main CSS File -->
  <link href="assets/css/styles.css" rel="stylesheet">
  <!-- Start CSS -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <!-- =======================================================
  * Template Name: LinuxOS - v20.2.2
  * Author: José Valdemir de Melo
  ======================================================== -->
</head>
<body>
  <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>
  <header id="header" class="d-flex flex-column justify-content-center">
    <nav class="nav-menu">
      <ul>
        <li class="active"><a href="#hero"><i class="bx bxs-tachometer"></i> <span>Linux OS</span></a></li>
        <li><a href="#linuxos"><i class="bx bxs-box"></i> <span>Requisitos</span></a></li>
        <li><a href="#services"><i class="bx bxs-server"></i> <span>Customizar</span></a></li>
        <li><a href="#diretorios"><i class="bx bxs-rename"></i> <span>Iniciando</span></a></li>      
      </ul>
    </nav>
  </header>
  <section id="hero" class="d-flex flex-column justify-content-center">
    <div class="container" data-aos="zoom-in" data-aos-delay="100">
      <h1>LinuxOS</h1>
      <p>Como criar sua própria ISO customizada do Linux <i class="icofont-rounded-right"></i>
       <span class="typed" data-typed-items="Squashfs-tools, Chroot, Genisoimage"></span></p>   
      <div class="social-links">
        <a href="https://t.me/jvmelo26linux" class="telegram"><i class="bx bxs-telegram"></i></a>
        <a href="https://twitter.com/jvmelo26?s=09" class="twitter"><i class="bx bxs-twitter"></i></a>
      </div>
    </div>
  </section>
    <section id="linuxos" class="linuxos">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Pré-requisitos para customização</h2>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <img src="assets/img/deepin-reader.svg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content">
            <h3>Como funciona</h3>
            <p class="font-italic">
            Optamos por utilizar um processo manual de customização do Linux, utilizando o squashfs, 
genisoimage e chroot, é simples, você usa a própria distribuição instalada como base, sem aplicativos 
extras, que as vezes é incompatível dependendo da distribuição.
            </p>
            <p><div><strong>Pré-requesitos</strong>
            </div> Para criar o ambiente para customização, necessitamos de</p>
            <div class="row">
              <div class="col-lg-6">
                <ul>
                  <li><strong>Módulo <i class="icofont-rounded-right"></i> </strong> squashfs-tools</li>
                </ul>
              </div>
              <div class="col-lg-6">
                <ul>
                  <li><strong>ISO <i class="icofont-rounded-right"></i> </strong> genisoimage</li>
                </ul>
              </div>
              <h3>Preparando o ambiente</h3>
               <p><div><strong>Para criar o ambiente necessário para customização</strong>
              </div>
              <p class="font-italic">
              Computador (Desktop ou Notebook) com Linux instalado e com suporte para o "squashfs" no kernel, desde 2006 o linux já possui suporte para o Squashfs no kernel, porém sugerimos utilizar a versão mais atual disponível.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="services" class="services">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Customizando</h2>
          <p class="font-italic">
          Antes de começarmos a customizar o nosso LinuxOS, devemos criar o <a href="#diretorios">diretório e os subdiretórios</a> que serão nossa área de trabalho.<br>
          Para criar o diretório e os subdiretórios, podemos usar o navegador de aquivos ou simplesmente fazer isso no terminal como decrito logo abaixo.<br>
          Depois que o diretórios e os subdiretórios estiverem criados, é só esses passos.</p>
          </div>
        <div class="row">
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
            <div class="icon-box iconbox-blue">
              <div class="icon">
                <svg width="100" height="100" viewBox="0 0 600 600" xmlns="../../../../external.html?link=http://www.w3.org/2000/svg">
                  <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,521.0016835830174C376.1290562159157,517.8887921683347,466.0731472004068,529.7835943286574,510.70327084640275,468.03025145048787C554.3714126377745,407.6079735673963,508.03601936045806,328.9844924480964,491.2728898941984,256.3432110539036C474.5976632858925,184.082847569629,479.9380746630129,96.60480741107993,416.23090153303,58.64404602377083C348.86323505073057,18.502131276798302,261.93793281208167,40.57373210992963,193.5410806939664,78.93577620505333C130.42746243093433,114.334589627462,98.30271207620316,179.96522072025542,76.75703585869454,249.04625023123273C51.97151888228291,328.5150500222984,13.704378332031375,421.85034740162234,66.52175969318436,486.19268352777647C119.04800174914682,550.1803526380478,217.28368757567262,524.383925680826,300,521.0016835830174"></path>
                </svg>
                <i class="bx bxs-box"></i>
              </div>
              <h4><a href="#squashfs"> squashfs</a></h4>
              <p>Primeiro passo, é ativar o módulo "squashfs" para prosseguir customizando</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-md-0" data-aos="zoom-in" data-aos-delay="200">
            <div class="icon-box iconbox-orange ">
              <div class="icon">
                <svg width="100" height="100" viewBox="0 0 600 600" xmlns="../../../../external.html?link=http://www.w3.org/2000/svg">
                  <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,582.0697525312426C382.5290701553225,586.8405444964366,449.9789794690241,525.3245884688669,502.5850820975895,461.55621195738473C556.606425686781,396.0723002908107,615.8543463187945,314.28637112970534,586.6730223649479,234.56875336149918C558.9533121215079,158.8439757836574,454.9685369536778,164.00468322053177,381.49747125262974,130.76875717737553C312.15926192815925,99.40240125094834,248.97055460311594,18.661163978235184,179.8680185752513,50.54337015887873C110.5421016452524,82.52863877960104,119.82277516462835,180.83849132639028,109.12597500060166,256.43424936330496C100.08760227029461,320.3096726198365,92.17705696193138,384.0621239912766,124.79988738764834,439.7174275375508C164.83382741302287,508.01625554203684,220.96474134820875,577.5009287672846,300,582.0697525312426"></path>
                </svg>
                <i class="bx bxs-folder-open"></i>
              </div>
              <h4><a href="#ambiente"> chroot</a></h4>
              <p> O chroot é a ferramenta para transformar um diretório, no diretório raiz ('/').</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-lg-0" data-aos="zoom-in" data-aos-delay="300">
            <div class="icon-box iconbox-pink">
              <div class="icon">
                <svg width="100" height="100" viewBox="0 0 600 600" xmlns="../../../../external.html?link=http://www.w3.org/2000/svg">
                  <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,541.5067337569781C382.14930387511276,545.0595476570109,479.8736841581634,548.3450877840088,526.4010558755058,480.5488172755941C571.5218469581645,414.80211281144784,517.5187510058486,332.0715597781072,496.52539010469104,255.14436215662573C477.37192572678356,184.95920475031193,473.57363656557914,105.61284051026155,413.0603344069578,65.22779650032875C343.27470386102294,18.654635553484475,251.2091493199835,5.337323636656869,175.0934190732945,40.62881213300186C97.87086631185822,76.43348514350839,51.98124368387456,156.15599469081315,36.44837278890362,239.84606092416172C21.716077023791087,319.22268207091537,43.775223500013084,401.1760424656574,96.891909868211,461.97329694683043C147.22146801428983,519.5804099606455,223.5754009179313,538.201503339737,300,541.5067337569781"></path>
                </svg>
                <i class="bx bxs-archive-in"></i>
              </div>
              <h4><a href="#imagemiso"> genisoimagem</a></h4>
              <p> Ferramenta de criação da imagem ISO customizada</p>
            </div>
          </div>        
    </section>
    <section id="diretorios" class="diretorios">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
        <h2>Criando o diretório e os subdiretórios</h2>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <img src="assets/img/dde-file-manager.svg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content">
            <h5>Criando o diretório principal</h5>
            <p>mkdir LinusOS && cd LinusOS</p>
            <p><div><strong>Criando os subdiretórios</strong>
            </div>mkdir customizando<br>mkdir customizado<br>mkdir montagem<br>mkdir squashfs</p>
            <p><div><strong>Copiar a imagem baixada para o diretório LinusOS</strong>
            </div>cp /home/valdemir/deepin-desktop-community-20.2.2-amd64.iso /home/valdemir/LinusOS<br>
            <em>Onde o nome de usuário deve ser substituido pelo seu nome de usuário</em></p>
            <div class="row">                       
          </div>
        </div>
      </div>
    </section>
    <section id="squashfs" class="squashfs">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Módulo squashfs</h2>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <img src="assets/img/preferences-system.svg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content">
            <h5>Este módulo deve está sempre carregado quando estiver customizando</h5>
            <p class="font-italic">
             Será solicitado a senha de usuário, assim que você concluir está etapa, você não prescisará repetir a parte de "Montar extrair copiar" novamente na próxima vez que você voltar a customizar, mas é nescessário repatir todos os outros passos.</p>
            <p><div><strong>Carregando o módulo squashfs</strong></div>sudo modprobe squashfs</p>
            </div>              
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="ubiquity" class="ubiquity">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Montar extrair copiar</h2>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <img src="assets/img/deepin-installer.svg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content">
            <h5>Extraindo o ISO</h5>
            <p class="font-italic">
              Esta etapa consiste em montar a ISO, extrair para o respectivo diretório, e copiar para o diretório de customização
              Depois que já estiver customizando não é nescessário passar toda vez por esta etapa, só se for a primeira vez, a não ser que você chegou ao final da customização e removeu todas as pastas, você pode customizar quanto tempo forem nescessário</p>
              <p><div><strong>Montar extrair copiar para os respectivos subdiretório de trabalho</strong>
              </div>sudo mount -o loop deepin-desktop-community-20.2.2-amd64.iso montagem<br>rsync --exclude=/live/filessystem.squashfs -a montagem/ customizado
              <br>sudo mount -t squashfs -o loop montagem/live/filesystem.squashfs squashfs<br>sudo cp -a squashfs/* customizando/</p>
               </div>              
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="ambiente" class="ambiente">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Configuração de ambiente</h2>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <img src="assets/img/computer.svg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content">
            <h5>Este módulo deve está sempre carregado sempre que estiver customizando</h5>
            <p class="font-italic">
             Depois que já estiver customizando não é nescessário passar toda vez por esta etapa, só se for a primeira vez, a não ser que você chegou ao final da customização e removeu todas as pastas, daí você terá que refazer este passo novamente, você pode customizar o tempo for nescessário até concluír seu objetivo.</p>
            <p><div><strong>Configuração para execução de programas no modo chroot</strong></div>sudo mount -t none -o bind /tmp /home/valdemir/LinuxOS/customizando/tmp</p>
            <p><div><strong>Arquivos de configuração de ambiente para uso do chroot</strong></div>sudo cp /etc/resolv.conf customizando/etc/
              <br>sudo cp /etc/hosts customizando/etc/<br>sudo mount --bind /dev/ customizando/dev<br>sudo chroot customizando
              <p><div><strong>Adicionando repositório</strong></div>sudo dde-file-manager /etc/apt/sources.list</p>
              <p><div><strong>Atualizando o sistema</strong><br>apt update && apt full-upgrade</p>
              <p><strong>Abra uma nova aba no terminal</strong><br>sudo dde-file-manager<br>/home/valdemir/LinuxOS/customizando/home<br>dpkg -i *.deb<br>apt -f install</p>
              <div class="row">            
              <div class="col-lg-6">
                <ul>
                  <li><strong>Observação<i class="icofont-rounded-right"></i></strong> Método instalação local</li>
                </ul>
              </div>
              <div class="col-lg-6">
                <ul>
                  <li><strong>LinuxOS<i class="icofont-rounded-right"></i></strong> Debian e derivados</li>
                </ul>
               </div>              
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="removendo" class="removendo">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Removendo arquivos de configuração</h2>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <img src="assets/img/user-trash-full-opened.svg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content">
            <h5>Removendo arquivos temporários e finalizando o Chroot</h5>
            <p class="font-italic">
              Os arquivos temporários e o cache do APT, deve ser apagados para diminuir a ISO imagem a ser gerada. 
              Neste ponto nós desmontaremos os filesystems e finalizar o chroot, pois apenas as tarefas de customização são necessárias neste ambiente, as terefas de criação da ISO devem ser feitas fora do chroot.
              Para remover os arquivos temporários e os outros arquivos que não serão mais necessários, siga os passos abaixo:            </p>
            <p><div><strong>Limpar o cache do APT</strong></div>apt clean</p>
            <p><div><strong>Remover os arquivos temporários</strong></div>rm -rf /tmp/* ~/.bash.history</p>
            <p><div><strong>Limpar as configurações não necessárias</strong></div>rm /etc/resolv.conf<br>rm /etc/hosts</p>
            <p><div><strong>Desmontar os filesystems e finalizar o chroot</strong></div>umount -lf /proc<br>umount -lf /sys<br>exit<br>sudo umount -lf customizando/dev</p>
            <div class="col-lg-8 pt-4 pt-lg-0 content">            
            </div>                       
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="imagemiso" class="imagemiso">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Criando o filesystem.squashfs e gerando a imagem ISO</h2>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <img src="assets/img/deepin-boot-maker.svg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-8 pt-4 pt-lg-0 content">
            <h5>Regenerando os arquivos do novo sistema</h5>
            <p class="font-italic">
              Para regenerar as declarações do sistema e comprimir filesystem.squashfs, siga os passos abaixo</p>
            <p><div><strong>Regenerando os arquivos</strong></div>chmod +w customizado/live/filesystem.manifest<br>sudo chroot customizando dpkg-query -f '${binary:Package} ${Version}\n' -W > customizado/live/filesystem.manifest<br>
              sudo cp customizado/live/filesystem.manifest customizado/live/filesystem.manifest<br>sudo rm customizado/live/filesystem.squashfs<br>
              mksquashfs customizando customizado/live/filesystem.squashfs</p>
              <p><div><strong>Definindo o nome da imagem ISO</strong></div>sudo deepin-editor customizado/README.diskdefines</p>
              <p><div><strong>Gerando a imagem ISO</strong></div>genisoimage -D -r -V “Linux-OS” -cache-inodes -J -l -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table -o deepin-20.2.2-desktop-community-x86_64.iso customizado/</p>
              <p><div><strong>Criar o MD5 da ISO</strong></div>md5sum deepin-20.2.2-desktop-community-x86_64.iso > deepin-20.2.2-desktop-community-x86_64.iso,md5</p>
              <p><div><strong>Excluir o Diretório e subdiretório não vazio</strong></div><em>Para excluir o diretório e os subdiretórios que não estejam vazios, é necessário desmontar o ponto de montagem, use a opção -r (recursiva). Para ser claro, isso remove os diretórios e todos os arquivos e subdiretórios contidos neles</em>:
                  <div class="row">            
                    <div class="col-lg-6">
                      <ul>
                        <li><strong>Diretório de customização<i class="icofont-rounded-right"></i></strong><br> sudo rm -r LinuxOS</li>
                      </ul>
                  </div>
            </div>                       
            </div>
          </div>
        </div>
      </div>
    </section>

    
  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <h3>LinuxOS</h3>
      <h5 class="font-italic">
      <div>Material de apoio para criação da imagem ISO customizada do seu Linux</div>
      </h5>
      <div class="social-links">
        <a href="https://t.me/jvmelo26linux" class="telegram"><i class="bx bxl-telegram"></i></a>
        <a href="https://twitter.com/jvmelo26?s=09" class="twitter"><i class="bx bxl-twitter"></i></a>
      </div>
      <div class="copyright">
        &copy; Copyright <strong><span>LinuxOS 2019 - 2021</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
      Sobre mim <a href="https://twitter.com/jvmelo26?s=09">José Valdemir de Melo</a>
      </div>
    </div>
  </footer><!-- End Footer -->
  <a href="#" class="back-to-top"><i class="bx bx-up-arrow-alt"></i></a>
  <div id="preloader"></div>
  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
    </body>
</html>
